var H=Object.defineProperty;var A=(a,e,s)=>e in a?H(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var i=(a,e,s)=>(A(a,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function c(a,e){const s=document.createElement("div");return s.classList.add(a),e&&e.append(s),s}function U(a,e=document.body){const s=document.createElement("main");return s.classList.add(a),e.append(s),s}function O(a,e,s){const t=document.createElement("form");return t.name=s,t.classList.add(a),e.append(t),t}function x({className:a,type:e,parent:s,placeholder:t,id:n,labelText:o}){if(o){const h=document.createElement("label");h.htmlFor=n||"",h.textContent=o,s.append(h)}const d=document.createElement("input");return d.type=e,d.placeholder=t,d.id=n||"",d.classList.add(a),s.append(d),d}function f(a,e,s){const t=document.createElement("button");return t.type=e instanceof HTMLDivElement?"button":"submit",t.classList.add(a),t.textContent=s,e.append(t),t}function D(a,e,s){const t=document.createElement("h2");return t.classList.add(a),t.textContent=s,e.append(t),t}function u(a,e,s){const t=document.createElement("p");return t.classList.add(a),t.textContent=s,e.append(t),t}function N(a,e,s,t){const n=document.createElement("a");return n.href=s,n.classList.add(a),n.textContent=t,e.append(n),n}function q(a,e){const s=document.createElement("ul");return s.classList.add(a),e.append(s),s}function C(a,e,s){const t=document.createElement("li");t.classList.add(a);const n=c("user-status-wrapper",t);return c("user-status",n),u("active-user-name",t,s),c("unread-messages-count",t),e.append(t),t}class F{constructor(e,s){i(this,"id","authentication_request");i(this,"type","USER_LOGIN");i(this,"payload",{user:{login:"",password:""}});this.payload.user.login=e,this.payload.user.password=s}}class G{constructor(e,s){i(this,"id","logout_request");i(this,"type","USER_LOGOUT");i(this,"payload",{user:{login:"",password:""}});this.payload.user.login=e,this.payload.user.password=s}}class P{constructor(){i(this,"formWrapper",c("form-wrapper"));i(this,"loginForm",O("login-form",this.formWrapper,"login-form"));i(this,"infoButton",f("button",this.formWrapper,"Инфо"));i(this,"inputLoginWrapper",c("input-wrapper",this.loginForm));i(this,"inputPasswordWrapper",c("input-wrapper",this.loginForm));i(this,"loginOptions",{className:"login-input",type:"text",parent:this.inputLoginWrapper,placeholder:"Логин",id:"login-input",labelText:"Введите логин"});i(this,"loginInput",x(this.loginOptions));i(this,"failedLoginValidation",u("failed-validation",this.inputLoginWrapper,""));i(this,"passwordOptions",{className:"login-input",type:"password",parent:this.inputPasswordWrapper,placeholder:"Пароль",id:"password-input",labelText:"Введите пароль"});i(this,"passwordInput",x(this.passwordOptions));i(this,"failedPasswordValidation",u("failed-validation",this.inputPasswordWrapper,""));i(this,"loginButton",f("button",this.loginForm,"Войти"));this.loginInput.required=!0,this.loginInput.minLength=4,this.passwordInput.required=!0,this.passwordInput.minLength=4}}const V=new P;class J{constructor(){i(this,"informationWrapper",c("info-wrapper"));i(this,"informationTitle",D("title",this.informationWrapper,"Информация"));i(this,"informationText",`Приветствую тебя, любитель(ница) чатиться!

    Огромное спасибо, что уделил(а) время моему проекту.

    Искренне надеюсь, что мой "потрясающий" дизайн не вызовет кровотечение из твоих глаз)

    

    Если что, вот ссылочка на мой Github - `);i(this,"informationDescription",u("description",this.informationWrapper,this.informationText));i(this,"githubLink",N("link",this.informationDescription,"https://github.com/Baltika-Cat","Baltika-Cat"));i(this,"returnButton",f("button",this.informationWrapper,"Назад"))}}const W=new J,r=class r{constructor(e="reconnection"){e.includes("reconnection")&&(r.problemDescription.textContent="Идет восстановление соединения",r.loadingCircle.classList.remove("invisible"),r.button.classList.add("invisible"),r.generateWindow()),e.includes("password")&&(r.problemDescription.textContent="Неверный пароль",r.addButton(),r.generateWindow()),e.includes("login")&&(r.problemDescription.textContent="Пользователь с таким именем уже авторизован",r.addButton(),r.generateWindow()),r.button.addEventListener("click",()=>{r.removeWindow()})}static addButton(){r.loadingCircle.classList.add("invisible"),r.button.classList.remove("invisible")}static removeWindow(){r.popupWrapper.classList.add("invisible")}static generateWindow(){r.popupWrapper.classList.remove("invisible")}};i(r,"popupWrapper",c("popup-wrapper",document.body)),i(r,"background",c("background",r.popupWrapper)),i(r,"window",c("popup-window",r.popupWrapper)),i(r,"loadingCircle",c("loading",r.window)),i(r,"descriptionWrapper",c("description-wrapper",r.window)),i(r,"problemDescription",u("problem-description",r.descriptionWrapper,"")),i(r,"button",f("button",r.descriptionWrapper,"Ясненько"));let v=r;v.removeWindow();class b{constructor(e,s){i(this,"id");i(this,"type");i(this,"payload",null);this.type=s,this.id=e}}class ${constructor(e,s){i(this,"id");i(this,"type","MSG_FROM_USER");i(this,"payload",{user:{login:""}});this.payload.user.login=e,this.id=s}}class z{constructor(e,s){i(this,"id","send-message");i(this,"type","MSG_SEND");i(this,"payload",{message:{to:"",text:""}});this.payload.message.to=e,this.payload.message.text=s}}class X{constructor(e){i(this,"id","read-message");i(this,"type","MSG_READ");i(this,"payload",{message:{id:""}});this.payload.message.id=e}}class j{constructor(e,s){i(this,"id","edit-message");i(this,"type","MSG_EDIT");i(this,"payload",{message:{id:"",text:""}});this.payload.message.id=e,this.payload.message.text=s}}class K{constructor(e){i(this,"id","delete-message");i(this,"type","MSG_DELETE");i(this,"payload",{message:{id:""}});this.payload.message.id=e}}const Q="/baltika-cat-JSFE2023Q4/fun-chat/assets/rsschool-CvoISIkk.svg";class g{constructor(e,s){i(this,"socket");i(this,"mainPageWrapper",c("main-wrapper"));i(this,"header",c("main-header",this.mainPageWrapper));i(this,"userName",u("user-name",this.header,""));i(this,"mainTitle",u("main-title",this.header,"Fun-chat"));i(this,"headerButtonsArea",c("buttons-area",this.header));i(this,"infoButton",f("header-button",this.headerButtonsArea,"Инфо"));i(this,"logoutButton",f("header-button",this.headerButtonsArea,"Выйти"));i(this,"mainArea",c("main-area",this.mainPageWrapper));i(this,"usersArea",c("users-area",this.mainArea));i(this,"searchInputOptions",{className:"users-search",type:"text",parent:this.usersArea,placeholder:"Поиск..."});i(this,"usersSearch",x(this.searchInputOptions));i(this,"activeUsers",q("users",this.usersArea));i(this,"inactiveUsers",q("users",this.usersArea));i(this,"chatWrapper",c("chat-area",this.mainArea));i(this,"userInfo",c("user-info",this.chatWrapper));i(this,"userInfoName",u("user-info-name",this.userInfo,""));i(this,"userInfoStatus",u("user-info-name",this.userInfo,""));i(this,"messageHistory",c("message-history",this.chatWrapper));i(this,"messagesWrapper");i(this,"sendMessageForm",O("send-message-form",this.chatWrapper,"message-form"));i(this,"messageInputOptions",{className:"message",type:"text",parent:this.sendMessageForm,placeholder:"Сообщение..."});i(this,"messageInput",x(this.messageInputOptions));i(this,"sendButton",f("send-button",this.sendMessageForm,"Отправить"));i(this,"footer",c("main-footer",this.mainPageWrapper));i(this,"schoolLogo",new Image);i(this,"schoolLink",N("school-link",this.footer,"https://rs.school/courses/javascript-preschool",""));i(this,"githubLink",N("github-link",this.footer,"https://github.com/Baltika-Cat","Baltika-Cat"));i(this,"year",u("year",this.footer,"2024"));i(this,"contextMenu",c("context-menu",this.messageHistory));i(this,"contextChange",c("context-change",this.contextMenu));i(this,"contextDelete",c("context-delete",this.contextMenu));i(this,"userLogin");i(this,"activeUsersRequest",new b("for-search","USER_ACTIVE"));i(this,"inactiveUsersRequest",new b("for-search","USER_INACTIVE"));i(this,"userInChatName","");i(this,"userInChatStatus","");i(this,"hasNewMessagesLine",!1);i(this,"changingMessage",!1);i(this,"messageForChanging",document.createElement("div"));this.contextMenu.classList.add("invisible"),this.contextChange.textContent="Изменить",this.contextDelete.textContent="Удалить",this.lockSendButton(),this.messageInput.classList.add("disabled"),this.messageHistory.textContent="Выберите пользователя для отправки сообщения",this.messagesWrapper=c("old-messages-wrapper",this.messageHistory),this.userLogin=s,this.userName.textContent=`User: ${s}`,this.schoolLogo.src=Q,this.schoolLink.append(this.schoolLogo),this.socket=e,this.socket.addEventListener("message",t=>{const n=JSON.parse(t.data);this.userLogin!==""&&(n.type==="USER_LOGOUT"&&(this.userLogin=""),n.type==="USER_EXTERNAL_LOGIN"?(this.addNewActiveUser(n.payload.user.login),n.payload.user.login===this.userInChatName&&this.startChat(t)):n.type==="USER_EXTERNAL_LOGOUT"?this.makeUserInactive(n.payload.user.login):n.id==="for-login"?this.getUsers(t):n.id==="for-search"?this.searchUsers(t):n.type==="MSG_FROM_USER"?this.getHistory(n.id,n.payload.messages):n.type==="MSG_SEND"?n.id?this.sendMessage(n.payload.message):this.receiveMessage(n.payload.message):n.type==="MSG_READ"?n.id||g.changeStatusToRead(n.payload.message.id):n.type==="MSG_EDIT"?n.id||g.changeRecipientMessage(n.payload.message.id,n.payload.message.text):n.type==="MSG_DELETE"&&(n.id||g.deleteRecipientMessage(n.payload.message.id)))}),this.usersSearch.addEventListener("input",()=>{this.activeUsers.innerHTML="",this.inactiveUsers.innerHTML="",this.sendSearchUsersRequest()}),this.messageInput.addEventListener("input",()=>{this.messageInput.value?this.unlockSendButton():this.lockSendButton()}),this.usersArea.addEventListener("click",t=>{this.startChat(t),this.lockSendButton()}),this.sendMessageForm.addEventListener("submit",t=>{t.preventDefault(),this.changingMessage?this.changeMessage():(this.sendMessageRequest(this.userInChatName,this.messageInput.value),this.messageInput.value="",this.lockSendButton(),this.getNewMessages(),this.readNewMessages())}),this.messageHistory.addEventListener("mouseup",()=>{this.getNewMessages(),this.readNewMessages()}),this.messageHistory.addEventListener("wheel",()=>{this.getNewMessages(),this.readNewMessages()}),this.messageHistory.addEventListener("contextmenu",t=>{t.preventDefault(),this.contextMenu.classList.add("invisible"),this.openContextMenu(t)}),window.addEventListener("mouseup",()=>{this.contextMenu.classList.add("invisible")}),this.contextChange.addEventListener("click",()=>{this.contextMenu.classList.add("invisible"),this.changeSenderMessage()}),this.contextDelete.addEventListener("click",()=>{this.contextMenu.classList.add("invisible"),this.deleteSenderMessage()})}sendSearchUsersRequest(){this.socket.send(JSON.stringify(this.activeUsersRequest)),this.socket.send(JSON.stringify(this.inactiveUsersRequest))}searchUsers(e){const s=JSON.parse(e.data);s.type==="USER_ACTIVE"&&s.payload.users.filter(n=>n.login.includes(this.usersSearch.value)).forEach(n=>{n.login!==this.userLogin&&C("active-user",this.activeUsers,n.login)}),s.type==="USER_INACTIVE"&&s.payload.users.filter(n=>n.login.includes(this.usersSearch.value)).forEach(n=>{C("inactive-user",this.inactiveUsers,n.login)})}addNewActiveUser(e){if(e.includes(this.usersSearch.value)){const t=[...document.querySelectorAll(".inactive-user p")].find(n=>n.textContent===e);t!=null&&t.parentElement?(t.parentElement.classList.remove("inactive-user"),t.parentElement.classList.add("active-user"),this.activeUsers.append(t.parentElement),this.userInChatName===t.textContent&&(this.userInChatStatus="В сети",this.userInfoStatus.textContent=this.userInChatStatus)):C("active-user",this.activeUsers,e)}}makeUserInactive(e){const t=[...document.querySelectorAll(".active-user p")].filter(n=>n.textContent===e)[0];t!=null&&t.parentElement&&(t.parentElement.classList.remove("active-user"),t.parentElement.classList.add("inactive-user"),this.inactiveUsers.append(t.parentElement),this.userInChatName===t.textContent&&(this.userInChatStatus="Не в сети",this.userInfoStatus.textContent=this.userInChatStatus))}sendGetUsersRequest(e){const s=new b("for-login",e);this.socket.send(JSON.stringify(s))}getUsers(e){const s=JSON.parse(e.data),t=s.type==="USER_ACTIVE"?"active-user":"inactive-user",n=s.type==="USER_ACTIVE"?this.activeUsers:this.inactiveUsers,{users:o}=s.payload;o.forEach(d=>{d.login!==this.userLogin&&(C(t,n,d.login),this.sendGetHistoryRequest(d.login,"get-history-login"))})}sendGetHistoryRequest(e,s){const t=new $(e,s);this.socket.send(JSON.stringify(t))}startChat(e){const{target:s}=e;if(s instanceof HTMLElement&&s.tagName.toLowerCase()==="p"){this.messageInput.classList.remove("disabled"),this.userInChatName=s.textContent?s.textContent:"";const t=s.parentElement;t&&(this.userInChatStatus=t.classList.contains("active-user")?"В сети":"Не в сети",this.userInfoName.textContent=this.userInChatName,this.userInfoStatus.textContent=this.userInChatStatus),this.messageHistory.textContent="Начните диалог с этим пользователем",this.sendGetHistoryRequest(this.userInChatName,"get-history-click")}}addMessagesToNewChat(){this.messageHistory.textContent&&(this.messageHistory.textContent="",this.messageHistory.append(this.messagesWrapper))}getHistory(e,s){if(e==="get-history-login"){if(s.length){const n=s.filter(o=>o.from!==this.userLogin).filter(o=>!o.status.isReaded);if(n.length){const o=s[0].from!==this.userLogin?s[0].from:s[0].to,d=[...document.querySelectorAll(".active-user-name")].filter(y=>y.textContent===o)[0],h=d==null?void 0:d.nextSibling;h instanceof HTMLElement&&(h.classList.add("messages-count"),h.textContent=String(n.length))}}}else this.showHistory(s)}showHistory(e){e.length&&(this.messagesWrapper.innerHTML="",e.forEach(t=>{t.from===this.userLogin?g.createMessage("sent-message",this.messagesWrapper,t):(!t.status.isReaded&&!this.hasNewMessagesLine&&this.createDividingLine(),g.createMessage("received-message",this.messagesWrapper,t))}),this.addMessagesToNewChat(),this.hasNewMessagesLine=!1,document.querySelector("#line")?window.location.href="#line":this.messageHistory.scrollTop=this.messageHistory.scrollHeight)}sendMessageRequest(e,s){const t=new z(e,s);this.socket.send(JSON.stringify(t))}sendMessage(e){g.createMessage("sent-message",this.messagesWrapper,e),this.addMessagesToNewChat(),this.messageHistory.scrollTop=this.messageHistory.scrollHeight}receiveMessage(e){const s=[...document.querySelectorAll(".active-user-name")].filter(t=>t.textContent===e.from)[0];if(s instanceof HTMLElement){const t=s.nextSibling;t instanceof HTMLDivElement&&(t.classList.contains("messages-count")?t.textContent=t.textContent?String(Number(t.textContent)+1):"":(t.classList.add("messages-count"),t.textContent="1"))}e.from===this.userInChatName&&(document.querySelector("#line")?(g.createMessage("received-message",this.messagesWrapper,e),this.addMessagesToNewChat(),window.location.href="#line"):(this.createDividingLine(),g.createMessage("received-message",this.messagesWrapper,e),this.addMessagesToNewChat(),this.messageHistory.scrollTop=this.messageHistory.scrollHeight))}createDividingLine(){const e=document.createElement("div");e.id="line",e.textContent="Новые сообщения",this.messagesWrapper.append(e),this.hasNewMessagesLine=!0}lockSendButton(){this.sendButton.classList.add("disabled"),this.sendButton.disabled=!0}unlockSendButton(){this.sendButton.classList.remove("disabled"),this.sendButton.disabled=!1}static dateFormatter(e){const s=new Date(e),t=s.getDate(),n=String(s.getMonth()+1).padStart(2,"0"),o=s.getFullYear(),d=String(s.getHours()).padStart(2,"0"),h=String(s.getMinutes()).padStart(2,"0");return`${t}.${n}.${o}, ${d}:${h}`}static createMessage(e,s,t){const n=c(e);t.id&&n.setAttribute("data-id",t.id);const o=c("name-date",n),d=e==="received-message"?t.from:"Вы",h=g.dateFormatter(t.datetime);u("sender",o,d),u("date",o,h),u("message-text",n,t.text);const y=t.status.isEdited?"Изменено":"",w=c("message-status",n);if(e==="sent-message"){u("message-edited",w,y);let S;t.status.isReaded?S="Прочитано":t.status.isDelivered?S="Доставлено":S="Отправлено",u("message-delivered",w,S)}else u("message-edited",w,y),u("message-delivered",w,"");s.append(n)}sendReadingMessageRequest(e){const s=new X(e);this.socket.send(JSON.stringify(s))}readNewMessages(){const e=document.querySelector("#line");if(e){e.remove(),this.hasNewMessagesLine=!1;const s=[...document.querySelectorAll(".active-user-name")].filter(n=>n.textContent===this.userInChatName)[0],t=s==null?void 0:s.nextSibling;t instanceof HTMLDivElement&&(t.classList.remove("messages-count"),t.textContent="")}}static changeStatusToRead(e){const t=[...document.querySelectorAll(".sent-message")].filter(n=>n.getAttribute("data-id")===e)[0];if(t){const n=t.querySelector(".message-delivered");n&&(n.textContent="Прочитано")}}getNewMessages(){document.querySelector("#line")&&[...document.querySelectorAll("#line ~ .received-message")].map(n=>n.getAttribute("data-id")).forEach(n=>{n&&this.sendReadingMessageRequest(n)})}openContextMenu(e){const{target:s}=e;let t;s instanceof HTMLElement&&(s.classList.contains("sent-message")?t=s:s.closest(".sent-message")&&(t=s.closest(".sent-message"))),t instanceof HTMLDivElement&&(this.messageForChanging=t,this.messageForChanging.append(this.contextMenu),this.contextMenu.classList.remove("invisible"))}changeSenderMessage(){this.changingMessage=!0;const e=this.messageForChanging.querySelector(".message-text");e&&(this.messageInput.value=e.textContent??"",this.messageInput.focus())}changeMessage(){if(this.changingMessage){const e=this.messageForChanging.querySelector(".message-text");if(e&&e.textContent!==this.messageInput.value){e.textContent=this.messageInput.value;const s=this.messageForChanging.querySelector(".message-edited");s&&(s.textContent="Изменено");const t=this.messageForChanging.getAttribute("data-id");if(t){const n=new j(t,this.messageInput.value);this.socket.send(JSON.stringify(n))}}}this.messageInput.value="",this.sendButton.classList.add("disabled"),this.changingMessage=!1,this.messageInput.blur()}static changeRecipientMessage(e,s){const n=[...document.querySelectorAll(".received-message")].filter(o=>o.getAttribute("data-id")===e)[0];if(n){const o=n.querySelector(".message-edited");o&&(o.textContent="Изменено");const d=n.querySelector(".message-text");d&&(d.textContent=s)}}deleteSenderMessage(){const e=this.messageForChanging.getAttribute("data-id");if(e){const s=new K(e);this.socket.send(JSON.stringify(s))}this.messageForChanging.remove()}static deleteRecipientMessage(e){const t=[...document.querySelectorAll(".received-message")].filter(n=>n.getAttribute("data-id")===e)[0];t&&t.remove()}}const k="ws://127.0.0.1:4000",{formWrapper:M,loginForm:Y,loginInput:p,passwordInput:m,loginButton:L,infoButton:T,failedLoginValidation:E,failedPasswordValidation:I}=V,l=class l{constructor(){i(this,"main",U("main"));i(this,"isLogined",!1);i(this,"login","");i(this,"password","");i(this,"prevPage");i(this,"loginValidation",!1);i(this,"passwordValidation",!1);i(this,"info",T);this.prevPage=M}start(){l.socket=new WebSocket(k),L.classList.add("disabled"),this.submitForm(),this.toInformation(),this.validateLogin(),this.validatePassword(),l.socket.addEventListener("message",e=>{const s=JSON.parse(e.data);if(s.type==="USER_LOGIN")this.toMainPage();else if(s.type==="USER_LOGOUT")this.toLoginPage();else if(s.type==="ERROR"){const t=s.payload.error;l.errorWindow=new v(t)}}),l.checkInterval=setInterval(()=>{this.reconnect()},2e3)}authorize(){const e=new F(this.login,this.password);l.socket.send(JSON.stringify(e))}submitForm(){Y.addEventListener("submit",e=>{e.preventDefault(),this.login=p.value,this.password=m.value,this.authorize()})}toMainPage(){this.clearPage(),this.isLogined=!0;const e=new g(l.socket,this.login);this.main.append(e.mainPageWrapper),e.sendGetUsersRequest("USER_ACTIVE"),e.sendGetUsersRequest("USER_INACTIVE"),this.prevPage=e.mainPageWrapper,this.info=e.infoButton,this.toInformation(),e.logoutButton.addEventListener("click",()=>{this.sendLogoutRequest()})}disableButtonDueLogin(){this.loginValidation=!1,L.classList.add("disabled")}disableButtonDuePassword(){this.passwordValidation=!1,L.classList.add("disabled")}validateLogin(){p.addEventListener("input",()=>{p.value?p.value.length<p.minLength?(E.textContent=`Минимум ${p.minLength} символа`,this.disableButtonDueLogin()):p.value===p.value.toLowerCase()?(E.textContent="Должна быть хотя бы одна заглавная буква",this.disableButtonDueLogin()):(E.textContent="",this.loginValidation=!0,this.passwordValidation&&L.classList.remove("disabled")):(E.textContent="Поле обязательно для заполнения",this.disableButtonDueLogin())})}validatePassword(){m.addEventListener("input",()=>{m.value?m.value.length<m.minLength?(I.textContent=`Минимум ${m.minLength} символа`,this.disableButtonDuePassword()):m.value===m.value.toLowerCase()?(I.textContent="Должна быть хотя бы одна заглавная буква",this.disableButtonDuePassword()):(I.textContent="",this.passwordValidation=!0,this.loginValidation&&L.classList.remove("disabled")):(I.textContent="Поле обязательно для заполнения",this.disableButtonDuePassword())})}reconnect(){l.socket.addEventListener("close",()=>{l.errorWindow||(l.errorWindow=new v),l.reconnectingInterval||(l.reconnectingInterval=setInterval(()=>{l.socket=new WebSocket(k),l.socket.addEventListener("open",()=>{v.removeWindow(),l.errorWindow=void 0,this.isLogined&&this.authorize(),clearInterval(l.reconnectingInterval),l.reconnectingInterval=0})},2e3))})}toInformation(){this.info.addEventListener("click",()=>{this.clearPage(),this.main.append(W.informationWrapper),this.fromInformation()})}fromInformation(){W.returnButton.addEventListener("click",()=>{this.clearPage(),this.main.append(this.prevPage)})}sendLogoutRequest(){const e=new G(this.login,this.password);l.socket.send(JSON.stringify(e))}toLoginPage(){this.clearPage(),this.isLogined=!1,this.main.append(M),this.info=T,this.prevPage=M}clearPage(){this.main.innerHTML=""}};i(l,"socket"),i(l,"reconnectingInterval"),i(l,"checkInterval"),i(l,"errorWindow");let R=l;const B=new R;B.main.append(M);B.start();
